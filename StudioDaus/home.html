<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daus</title>
    <link rel="stylesheet" href="src/css/style.css">
    <link rel="stylesheet" href="src/css/resets.css">
    <link rel="stylesheet" href="src/css/responsivo.css">
    <link rel="shortcut icon" href="src/img/LogoDaus.png" type="image/x-icon">        
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <main>
        <div class="main-container container-fluid justify-content-center">
            <!-- NAVBAR -->
            <div class="navbar-container">
                <nav class="navbar navbar-expand-lg"> 
                    <div class="container-fluid d-flex flex-column flex-lg-row"> 
                        <a class="navbar-brand" href="#">
                            <img src="src/img/LogoDausNAVBAR.png" class="rounded float-start" width="150px" alt="Logo Da Studio Daus">
                        </a>
                        <ul class="navbar-nav me-auto my-2 my-lg-0 d-flex flex-wrap flex-lg-row text-center">
                            <li class="nav-item">
                                <a class="nav-link" aria-current="page" href="#analise-gratuita">Análise Gratuita</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" aria-current="page" href="#passamos">Por onde Passamos</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" aria-current="page" href="#apoio">Quem nos Apoia</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" aria-current="page" href="#">Nossos Casos</a>
                            </li>
                        </ul>
                    </div>
                </nav>
                <div class="line"></div>
            </div>
                <!-- Área Decole Daus -->
                <div class="decole-daus container-fluid d-flex mt-5 justify-content-center">
                    <div class="decolar text-center mt-5">
                        <div class="row">
                            <h2>Pronto para decolar?</h2>
                            <p>Conte com a gente!</p>
                        </div>
                        <button type="button">
                            <img src="src/img/FogueteImg.png" alt="Clique para decolar com a daus" width="50px"> Decolar agora com a daus!
                        </button>
                    </div>
                    <div class="img-decolar">
                        <img src="src/img/ImgDecolar.png" alt="Texto sobre a Daus">
                    </div>
                </div>
                <!-- Análise com IA -->
                <div class="free-analise container-fluid m-5" id="analise-gratuita">
                    <div class="header-analise">
                        <h1>Faça uma análise gratuita do seu site</h1>
                        <p>É bem simples!</p>
                    </div>
                    <div id="alert" class="alert alert-danger alert-dismissible fade show" role="alert" style="display: none;">
                        <span id="alert-message"></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Fechar"></button>
                    </div>
                    <div class="form-analise m-4">
                        <form id="userForm">
                            <label for="link-site">Copie ou digite o link do site</label><br>
                            <input type="text" id="link-site" name="link-site" required><br>
                            <label for="email">Informe seu e-mail</label><br>
                            <input type="email" id="email" name="email" required><br>
                            <input type="submit" class="mt-3" id="analise" name="analise" value="Analisar">
                        </form>
                    </div>
                </div>
                <!-- Cases do Daus -->
                <div class="cases container-fluid m-5" id="passamos">
                    <div class="header-cases">
                        <h2>Por onde Passamos</h2>
                    </div>
                    <p><img src="src/img/LogoDausPRETA.png" alt="Logo da Daus cor preta" width="40"> Conheça nossos cases</p>
                    <div class="cases-marcas gap-5 d-flex m-5">
                        <div class="colum-marcas-1 img-fluid d-flex flex-column gap-3">
                            <button type="button"><img src="src/img/LogoMercadoLivre.png" alt="Logo Mercado Livre"></button>
                            <button type="button"><img src="src/img/LogoMegaBit.png" alt="Logo MegaBit"></button>
                            <button type="button"><img src="src/img/LogoNeurobots.png" alt="Logo Neurobots"></button>
                        </div>
                        <div class="colum-marcas-2 img-fluid d-flex flex-column gap-3">
                            <button type="button"><img src="src/img/LogoPagueBrasil.png" alt="Logo Pague Brasil"></button>
                            <button type="button"><img src="src/img/LogoEva.png" alt="Logo Eva"></button>
                        </div>
                    </div>
                    <div class="more-cases-marcas mt-5 img-fluid">
                        <p><img src="src/img/LogoDausPRETA.png" alt="Logo da Daus cor preta" width="40"> Mais marcas que confiaram em nós</p>
                        <div class="brand-logos"> 
                            <img src="src/img/LogoGerdau.png" width="150px" alt="Logo da Gerdau">
                            <img src="src/img/LogoMedicar.png" width="150px" alt="Logo da Mediacar">
                            <img src="src/img/LogoBahart.png" width="150px" alt="Logo da Bahart">
                            <img src="src/img/LogoCielo.png" width="150px" alt="Logo da Cielo">
                        </div>
                    </div>
                </div>
                <!-- Quem nos Apoia -->
                <div class="supports-us container-fluid m-5" id="apoio">
                    <div class="header-supports-us">
                        <h2>Quem nos apoia</h2>
                    </div>
                    <div class="supports-us-marcas img-fluid">
                        <p><img src="src/img/LogoDausPRETA.png" alt="Logo da Daus cor preta" width="40"> Programa de aceleração</p>
                        <div class="brand-logos">
                            <img src="src/img/LogoFastMostion.png" width="150px" alt="Logo da FastMostion">
                            <img src="src/img/LogoSebrae.png" width="150px" alt="Logo do Sebrae">
                        </div>
                        <div class="supports-us-marcas mt-5 img-fluid">
                            <p><img src="src/img/LogoDausPRETA.png" alt="Logo da Daus cor preta" width="40"> Comunidades</p>
                            <div class="brand-logos">
                                <img src="src/img/LogoPortoDigital.png" width="150px" alt="Logo do Porto Digital">
                                <img src="src/img/LogoManguez.png" width="150px" alt="Logo da Manguez">
                                <img src="src/img/LogoOcca.png" width="150px" alt="Logo da Occa">
                            </div>
                        </div>
                    </div>
                    <!-- Contato -->
                <div class="header-contact container-fluid m-5">
                    <h2>Entre em contato</h2>
                    <div class="get-touch container-fluid d-flex justify-content-center">            
                        <div class="contact-form container-fluid m-5">                
                            <div class="header-formulario mt-2 text-center">
                                <p>Formulário para contato</p>
                            </div>
                            <form class="form-contact container-fluid mt-5">                
                                <input type="text" id="name-contact" name="name-contact" placeholder="Digite o nome da pessoa de contato"><br>
                                <input type="phone" id="phone-contact" name="phone-contact" placeholder="Digite o seu número de contato"><br>
                                <input type="email" id="email-contact" name="email-contact" placeholder="Digite o e-mail para contato"><br>
                                <input type="text" id="empresa-name" name="empresa-name" placeholder="Digite o nome de sua empresa"><br>
                                <input type="submit" class="mt-3" id="contact" name="contact" value="Enviar">
                            </form>
                        </div>
                        <div class="onde-estamos container-fluid m-5">
                            <div class="header-onde-estamos mt-2 text-center">
                                <p>Onde estamos</p>
                                <div class="mapa">
                                    <!-- Aqui você pode adicionar um iframe do Google Maps ou uma imagem do mapa -->
                                  <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3151.8354345093747!2d144.9537353153169!3d-37.8162797797517!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6ad642af0f11fd81%3A0xf577d1f9f3b1a9e!2sFederation%20Square!5e0!3m2!1sen!2sau!4v1611815470923!5m2!1sen!2sau" width="500" height="400" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    
                                </div>
                            </div>
                        </div>
                   </div>
               </div>
            </main>
            <footer class="footer">
                <div class="line"></div>
                <div class="container d-flex justify-content-between align-items-center mb-4">
                    <span>© Direitos reservados a Daus 2024</span>
                    <div>
                        <a href="#">Instagram</a> | <a href="#">Twitter</a>
                    </div>
                </div>
            </footer>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
            <script type="module">
                import { salvarDados } from "./src/service/firebase.js";
            
                document.getElementById("userForm").addEventListener("submit", async function(event) {
                    event.preventDefault();
                    const email = document.getElementById("email").value;
                    const link = document.getElementById("link-site").value;

                    try {
                        // Enviar a URL para a API
                        const response = await fetch('http://localhost:3000/analyze', { // Altere para o URL da sua API
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ url: link })
                        });

                        if (!response.ok) {
                            throw new Error('Erro ao analisar o site');
                        }

                        const analysisResult = await response.json();
                        
                        // Exibir o resultado da análise
                        localStorage.setItem('analysisResult', JSON.stringify(analysisResult));
                        window.location.href = 'resultado.html'; // Redireciona para a página de resultado

                        // Salvar os dados no Firebase
                        await salvarDados(email, link, JSON.stringify(analysisResult));

                    } catch (error) {
                        document.getElementById("alert-message").textContent = "Erro ao solicitar a análise.";
                        document.getElementById("alert").classList.replace("alert-success", "alert-danger");
                        document.getElementById("alert").style.display = "block";
                        console.error(error);
                    }

                    // Limpa o formulário após o envio
                    document.getElementById("userForm").reset();
                });
            </script>
        </body>
    </html>
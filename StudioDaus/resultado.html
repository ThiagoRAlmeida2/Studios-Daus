<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <!-- Firebase App (base) -->
        <script src="https://www.gstatic.com/firebasejs/9.16.0/firebase-app.js"></script>
        <!-- Firebase Database -->
        <script src="https://www.gstatic.com/firebasejs/9.16.0/firebase-database.js"></script>
        <!-- Seu arquivo firebase.js -->
        <script type="module" src="./src/service/firebase.js" defer></script>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Daus</title>
        
        <link rel="stylesheet" href="src/css/style.css">
        <link rel="stylesheet" href="src/css/resets.css">
        <link rel="stylesheet" href="src/css/responsivo.css">
        <link rel="shortcut icon" href="src/img/LogoDaus.png" type="image/x-icon">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">  
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    </head>

    <body>
        <main>
            <div class="main-container">
                <!--NAVBAR DA AREA DE RESULTADO DA ANALISE-->
                <div class="navbar-container">
                    <nav class="navbar navbar-expand-lg"> 
                        <div class="container-fluid d-flex flex-column flex-lg-row"> 
                            <a class="navbar-brand" href="#">
                                <img src="src/img/LogoDausNAVBAR.png" class="rounded float-start" width="150px" alt="Logo Da Studio Daus">
                            </a>
                            <ul class="navbar-nav me-auto my-2 my-lg-0 d-flex flex-wrap flex-lg-row text-center">
                                <li class="nav-item">
                                    <a class="nav-link" aria-current="page" href="home.html" >Início</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" aria-current="page" >Portifólio</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" aria-current="page" >Sobre nós</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" aria-current="page" href="#">Contato</a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
                <div class="line"></div>
                <!-- Conteúdo do relatório -->
                <div class="report-content mt-4 justify-content-center text-center">            
                    <h1>Relatório do site</h1>
                    <!-- Relatório gerado será inserido aqui -->
                    <div id="resultado">
                        <p>Aqui ficará o conteúdo do relatório...</p>
                    </div>
                </div>

                <!-- Botões para exportação -->
                <div class="button-report text-center mt-5">
                    <button class="btn" onclick="exportPDF()">Exportar para PDF</button>
                    <button class="btn" onclick="exportCSV()">Exportar para CSV</button>
                </div>
            </div>
        </main>

        <!-- Estilo para justificar o texto -->
        <style>
            .justificado {
                text-align: justify;
            }
        </style>

        <!-- script o relatorio -->
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Recupera o resultado da análise
                const result = JSON.parse(localStorage.getItem('analysisResult'));

                // Verifica se o resultado existe
                const resultadoElemento = document.getElementById('resultado');
                if (result) {
                    const texto = result.message.response.candidates[0].content.parts[0].text;
                    resultadoElemento.textContent = texto;

                    // Adiciona a classe para justificar o texto
                    resultadoElemento.classList.add('justificado');
                } else {
                    resultadoElemento.innerHTML = '<p>Resultado não disponível.</p>';
                }
            });
        </script>
    </body>
</html>
